[gd_scene load_steps=35 format=4 uid="uid://dwlfn2l5as1kx"]

[ext_resource type="Script" uid="uid://bfpmeme0glgng" path="res://scenes/room/room.gd" id="1_cy34l"]
[ext_resource type="PackedScene" uid="uid://ch4ywalnwhk3v" path="res://sprites/dogs/dog.tscn" id="2_j33j0"]
[ext_resource type="Script" uid="uid://dyj3yynr8lg8n" path="res://scenes/room/tiles/floor_layer.gd" id="2_tku2a"]
[ext_resource type="Texture2D" uid="uid://fhwsqqgw1t27" path="res://scenes/room/tiles/floor-tiles.png" id="3_lbx1e"]
[ext_resource type="Theme" uid="uid://cnld8djuw1qpf" path="res://themes/main_theme.tres" id="5_fntg6"]
[ext_resource type="AudioStream" uid="uid://bdrpodbxf1ukf" path="res://music/Matcha Green Tea.mp3" id="5_qx3y5"]
[ext_resource type="Texture2D" uid="uid://2j1lixeg62or" path="res://shared/images/stripes.png" id="6_et4wo"]
[ext_resource type="Texture2D" uid="uid://c2g43srrg4k70" path="res://sprites/decoration/floor/floor-sprites.png" id="6_jp1e5"]
[ext_resource type="Texture2D" uid="uid://4wxa2b4ntjwr" path="res://scenes/room/tiles/wall-tiles.png" id="6_lbx1e"]
[ext_resource type="Script" uid="uid://bv46cnrqklwkm" path="res://scenes/room/tiles/wall_layer.gd" id="7_68b7a"]
[ext_resource type="Texture2D" uid="uid://b7v0qec3gyhm6" path="res://sprites/decoration/wall/wall-sprites.png" id="9_7ep0u"]
[ext_resource type="Script" uid="uid://brcsmpvmsspgu" path="res://scenes/room/decoration/drag-drop-decoration.gd" id="9_ip1yl"]
[ext_resource type="PackedScene" uid="uid://c0y7xab8g7wps" path="res://shared/scenes/container.tscn" id="12_v5g04"]
[ext_resource type="Texture2D" uid="uid://xurmccbe5t0a" path="res://ui/buttons/button-edit.png" id="13_1mlw3"]
[ext_resource type="Texture2D" uid="uid://clr0vej8j3wdw" path="res://ui/buttons/button-settings.png" id="13_237u8"]
[ext_resource type="Texture2D" uid="uid://bawdhomrq7oq8" path="res://ui/buttons/button-rotate-left.png" id="15_7tnhw"]
[ext_resource type="Texture2D" uid="uid://cy3fd3x18k16w" path="res://ui/buttons/button-shop.png" id="15_237u8"]
[ext_resource type="Texture2D" uid="uid://km07dmnbnnqo" path="res://ui/buttons/button-rotate-right.png" id="16_o3aui"]
[ext_resource type="Texture2D" uid="uid://n65dhnylsfno" path="res://ui/buttons/button-base-cancel.png" id="17_7njf5"]
[ext_resource type="Texture2D" uid="uid://ivmpl03hvhea" path="res://ui/buttons/button-base-check.png" id="18_xxq4d"]
[ext_resource type="Texture2D" uid="uid://b4jdyfn36bvpa" path="res://ui/buttons/button-switch.png" id="20_fuscm"]
[ext_resource type="Texture2D" uid="uid://b0j6j3njf0pxv" path="res://ui/buttons/button-delete.png" id="21_fuscm"]

[ext_resource type="Script" path="res://scenes/room/tiles/floor_items_layer.gd" id="8_asort"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_0i02g"]
texture = ExtResource("3_lbx1e")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
6:0/0 = 0
7:0/0 = 0
8:0/0 = 0
9:0/0 = 0
10:0/0 = 0
11:0/0 = 0
12:0/0 = 0
13:0/0 = 0
14:0/0 = 0
15:0/0 = 0
16:0/0 = 0
17:0/0 = 0
18:0/0 = 0
19:0/0 = 0
20:0/0 = 0
21:0/0 = 0
22:0/0 = 0
23:0/0 = 0
24:0/0 = 0
25:0/0 = 0
26:0/0 = 0
27:0/0 = 0
28:0/0 = 0
29:0/0 = 0
30:0/0 = 0
31:0/0 = 0
32:0/0 = 0
33:0/0 = 0
34:0/0 = 0
35:0/0 = 0
36:0/0 = 0
37:0/0 = 0
38:0/0 = 0
39:0/0 = 0
39:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16.1646, -0.610477, 0, 8, 16.2838, -0.555972, 0, -8, 0, -8)

[sub_resource type="TileSet" id="TileSet_wid0f"]
tile_shape = 1
tile_layout = 5
tile_size = Vector2i(32, 16)
physics_layer_0/collision_layer = 1
sources/2 = SubResource("TileSetAtlasSource_0i02g")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_1mlw3"]
texture = ExtResource("6_jp1e5")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
5:2/0 = 0
6:2/0 = 0
7:2/0 = 0

[sub_resource type="TileSet" id="TileSet_jp1e5"]
tile_shape = 1
tile_layout = 5
tile_size = Vector2i(32, 16)
sources/1 = SubResource("TileSetAtlasSource_1mlw3")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_jp1e5"]
texture = ExtResource("6_jp1e5")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/texture_origin = Vector2i(0, 8)
1:0/0 = 0
1:0/0/texture_origin = Vector2i(0, 8)
2:0/0 = 0
2:0/0/texture_origin = Vector2i(0, 8)
3:0/0 = 0
3:0/0/texture_origin = Vector2i(0, 8)
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
5:2/0 = 0
6:2/0 = 0
7:2/0 = 0

[sub_resource type="TileSet" id="TileSet_1mlw3"]
tile_shape = 1
tile_layout = 5
tile_size = Vector2i(32, 16)
sources/1 = SubResource("TileSetAtlasSource_jp1e5")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_wid0f"]
texture = ExtResource("6_lbx1e")
texture_region_size = Vector2i(32, 64)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
6:0/0 = 0
7:0/0 = 0
8:0/0 = 0
9:0/0 = 0
10:0/0 = 0
11:0/0 = 0
12:0/0 = 0
13:0/0 = 0
14:0/0 = 0
15:0/0 = 0
16:0/0 = 0
17:0/0 = 0
18:0/0 = 0
19:0/0 = 0
20:0/0 = 0
21:0/0 = 0
22:0/0 = 0
23:0/0 = 0
24:0/0 = 0
25:0/0 = 0
26:0/0 = 0
27:0/0 = 0
28:0/0 = 0
29:0/0 = 0
30:0/0 = 0
31:0/0 = 0
32:0/0 = 0
33:0/0 = 0
34:0/0 = 0
35:0/0 = 0
36:0/0 = 0
37:0/0 = 0
38:0/0 = 0
39:0/0 = 0

[sub_resource type="TileSet" id="TileSet_cy34l"]
tile_shape = 1
tile_layout = 5
tile_size = Vector2i(32, 16)
sources/0 = SubResource("TileSetAtlasSource_wid0f")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_237u8"]
texture = ExtResource("9_7ep0u")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/texture_origin = Vector2i(0, 16)
1:0/0 = 0
1:0/0/texture_origin = Vector2i(0, 16)
0:1/0 = 0
0:1/0/texture_origin = Vector2i(0, 16)
1:1/0 = 0
1:1/0/texture_origin = Vector2i(0, 16)
0:2/0 = 0
0:2/0/texture_origin = Vector2i(0, 16)
1:2/0 = 0
1:2/0/texture_origin = Vector2i(0, 16)

[sub_resource type="TileSet" id="TileSet_e4auk"]
tile_shape = 1
tile_layout = 5
tile_size = Vector2i(32, 16)
sources/0 = SubResource("TileSetAtlasSource_237u8")

[sub_resource type="TileSet" id="TileSet_v5g04"]
tile_shape = 1
tile_layout = 5
tile_size = Vector2i(32, 16)

[node name="Room" type="Node2D"]
script = ExtResource("1_cy34l")

[node name="Camera2D" type="Camera2D" parent="."]
offset = Vector2(0, -30)
zoom = Vector2(3.25, 3.25)

[node name="Background" type="TextureRect" parent="Camera2D"]
z_index = -1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -197.0
offset_top = -141.0
offset_right = 2955.0
offset_bottom = 1635.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(0.125, 0.125)
texture = ExtResource("6_et4wo")
stretch_mode = 1

[node name="FloorLayer" type="TileMapLayer" parent="Camera2D"]
z_index = 2
y_sort_enabled = true
position = Vector2(0, -9)
tile_map_data = PackedByteArray("AAD+/wAAAgACAAAAAAD+////AgACAAAAAAD/////AgACAAAAAAAAAAAAAgACAAAAAAD//wEAAgACAAAAAAD//wIAAgACAAAAAAD+/wEAAgACAAAAAAD//wAAAgACAAAAAAAAAAEAAgACAAAAAAAAAAIAAgACAAAAAAAAAP//AgACAAAAAAABAP//AgACAAAAAAABAAAAAgACAAAAAAABAAEAAgACAAAAAAABAAIAAgACAAAAAAD+/wIAAgACAAAAAAA=")
tile_set = SubResource("TileSet_wid0f")
script = ExtResource("2_tku2a")

[node name="White-dog" parent="Camera2D/FloorLayer" instance=ExtResource("2_j33j0")]
position = Vector2(-6, -4)

[node name="FloorHologramLayer" type="TileMapLayer" parent="Camera2D"]
z_index = 2
y_sort_enabled = true
position = Vector2(0, -9)
tile_set = SubResource("TileSet_jp1e5")

[node name="FloorItemsLayer" type="TileMapLayer" parent="Camera2D"]
z_index = 3
y_sort_enabled = true
position = Vector2(0, -9)
tile_set = SubResource("TileSet_1mlw3")
script = ExtResource("8_asort")

[node name="WallLayer" type="TileMapLayer" parent="Camera2D"]
y_sort_enabled = true
position = Vector2(0, -9)
tile_map_data = PackedByteArray("AAD8/wEAAAACAAAAAAD8/wAAAAACAAAAAAD8////AAACAAAAAAD8//7/AAACAAAAAAD8//3/AAACAAAAAAD9//3/AAACAAAAAAD+//3/AAACAAAAAAD///3/AAACAAAAAAAAAP3/AAACAAAAAAA=")
tile_set = SubResource("TileSet_cy34l")
script = ExtResource("7_68b7a")

[node name="WallItemsLayer" type="TileMapLayer" parent="Camera2D"]
y_sort_enabled = true
z_index = -50
tile_set = SubResource("TileSet_e4auk")

[node name="FloorMouseDetector" type="TileMapLayer" parent="Camera2D"]
z_index = 2
y_sort_enabled = true
position = Vector2(0, -59)
tile_set = SubResource("TileSet_v5g04")

[node name="MatchaGreenTea" type="AudioStreamPlayer" parent="Camera2D"]
stream = ExtResource("5_qx3y5")
autoplay = true
parameters/looping = true

[node name="OptionsContainer" type="Control" parent="Camera2D"]
layout_mode = 3
anchors_preset = 0
offset_left = 100.0
offset_top = -138.0
offset_right = 192.0
offset_bottom = -113.0
script = ExtResource("9_ip1yl")

[node name="PauseButton" type="TextureButton" parent="Camera2D/OptionsContainer"]
layout_mode = 0
offset_left = 67.0
offset_right = 99.0
offset_bottom = 32.0
scale = Vector2(0.75, 0.75)
tooltip_text = "Settings"
theme = ExtResource("5_fntg6")
texture_normal = ExtResource("13_237u8")

[node name="EditButton" type="TextureButton" parent="Camera2D/OptionsContainer"]
layout_mode = 0
offset_left = 39.0
offset_right = 71.0
offset_bottom = 32.0
scale = Vector2(0.75, 0.75)
tooltip_text = "Edit room"
texture_normal = ExtResource("13_1mlw3")

[node name="ShopButton" type="TextureButton" parent="Camera2D/OptionsContainer"]
layout_mode = 0
offset_left = 11.0
offset_right = 43.0
offset_bottom = 32.0
scale = Vector2(0.75, 0.75)
tooltip_text = "Shop"
texture_normal = ExtResource("15_237u8")

[node name="DragContainerBG" parent="Camera2D" instance=ExtResource("12_v5g04")]
offset_left = 93.0
offset_top = -105.0
offset_right = 593.0
offset_bottom = 395.0
scale = Vector2(0.2, 0.35)

[node name="DragsContainer" type="Control" parent="Camera2D"]
layout_mode = 3
anchors_preset = 0
offset_left = 105.0
offset_top = -97.0
offset_right = 180.0
offset_bottom = 57.0

[node name="FloorItemsContainer" type="ScrollContainer" parent="Camera2D/DragsContainer"]
custom_minimum_size = Vector2(0, 65)
layout_mode = 1
anchors_preset = 10
anchor_right = 1.0
offset_top = 3.0
offset_bottom = 78.0
grow_horizontal = 2
horizontal_scroll_mode = 0

[node name="GridContainer" type="GridContainer" parent="Camera2D/DragsContainer/FloorItemsContainer"]
layout_mode = 2
size_flags_horizontal = 6
size_flags_vertical = 3
theme_override_constants/v_separation = 15

[node name="WallItemsContainer" type="ScrollContainer" parent="Camera2D/DragsContainer"]
custom_minimum_size = Vector2(0, 65)
layout_mode = 1
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -73.0
offset_bottom = 2.0
grow_horizontal = 2
grow_vertical = 0
horizontal_scroll_mode = 0

[node name="GridContainer" type="GridContainer" parent="Camera2D/DragsContainer/WallItemsContainer"]
layout_mode = 2
size_flags_horizontal = 6
size_flags_vertical = 3
theme_override_constants/v_separation = 15

[node name="FloorItemsControls" type="Control" parent="Camera2D"]
layout_mode = 3
anchors_preset = 0
offset_left = -86.0
offset_top = 48.0
offset_right = 86.0
offset_bottom = 80.0

[node name="RotateLeftButton" type="TextureButton" parent="Camera2D/FloorItemsControls"]
layout_mode = 0
offset_left = 70.0
offset_right = 102.0
offset_bottom = 32.0
tooltip_text = "Rotate Left"
texture_normal = ExtResource("15_7tnhw")

[node name="RotateRightButton" type="TextureButton" parent="Camera2D/FloorItemsControls"]
layout_mode = 0
offset_left = 105.0
offset_right = 137.0
offset_bottom = 32.0
tooltip_text = "Rotate Right"
texture_normal = ExtResource("16_o3aui")

[node name="CancelButton" type="TextureButton" parent="Camera2D/FloorItemsControls"]
layout_mode = 0
offset_right = 32.0
offset_bottom = 32.0
tooltip_text = "Cancel"
texture_normal = ExtResource("17_7njf5")

[node name="CheckButton" type="TextureButton" parent="Camera2D/FloorItemsControls"]
layout_mode = 0
offset_left = 140.0
offset_right = 172.0
offset_bottom = 32.0
tooltip_text = "Place Item"
texture_normal = ExtResource("18_xxq4d")

[node name="DeleteButton" type="TextureButton" parent="Camera2D/FloorItemsControls"]
layout_mode = 0
offset_left = 35.0
offset_right = 67.0
offset_bottom = 32.0
tooltip_text = "Delete item"
texture_normal = ExtResource("21_fuscm")

[node name="WallItemsControls" type="Control" parent="Camera2D"]
visible = false
layout_mode = 3
anchors_preset = 0
offset_left = -75.0
offset_top = 48.0
offset_right = 75.0
offset_bottom = 80.0

[node name="CancelButton" type="TextureButton" parent="Camera2D/WallItemsControls"]
layout_mode = 0
offset_left = 7.0
offset_right = 39.0
offset_bottom = 32.0
tooltip_text = "Cancel"
texture_normal = ExtResource("17_7njf5")

[node name="CheckButton" type="TextureButton" parent="Camera2D/WallItemsControls"]
layout_mode = 0
offset_left = 112.0
offset_right = 144.0
offset_bottom = 32.0
tooltip_text = "Place Item"
texture_normal = ExtResource("18_xxq4d")

[node name="SwitchButton" type="TextureButton" parent="Camera2D/WallItemsControls"]
layout_mode = 0
offset_left = 77.0
offset_right = 109.0
offset_bottom = 32.0
tooltip_text = "Switch Wall"
texture_normal = ExtResource("20_fuscm")

[node name="DeleteButton" type="TextureButton" parent="Camera2D/WallItemsControls"]
layout_mode = 0
offset_left = 42.0
offset_right = 74.0
offset_bottom = 32.0
tooltip_text = "Delete item"
texture_normal = ExtResource("21_fuscm")

[node name="SelectedSprite" type="TextureRect" parent="Camera2D"]
z_index = 5
offset_left = -3.0
offset_top = 9.0
offset_right = 37.0
offset_bottom = 49.0

[connection signal="ready" from="Camera2D" to="Camera2D" method="_on_ready"]
[connection signal="pressed" from="Camera2D/OptionsContainer/PauseButton" to="." method="_on_pause_button_pressed"]
[connection signal="pressed" from="Camera2D/OptionsContainer/EditButton" to="." method="_on_edit_button_pressed"]
